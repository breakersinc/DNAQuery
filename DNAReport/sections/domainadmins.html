<section class="resume-section p-3 p-lg-5 d-flex flex-column" id="windowsdomainadmins" style="page-break-before: always">
        <div class="my-auto">
          <h2 class="mb-5">Administradores de Dominio Windows</h2>
          <div class="resume-item d-flex flex-column flex-md-row mb-5">
            <div class="resume-content mr-auto">
              <p>En casi todas las organizaciones actuales, Active Directory desempeña un papel clave en la administración general y la seguridad de la infraestructura TI. Por lo tanto, es un objetivo prioritario para cualquier atacante, sabiendo que AD normalmente contiene numerosas cuentas privilegiadas que aprovechar para atacar toda la infraestructura y obtener acceso a la información.</p>
              <p>Asegurar Active Directory debe ser una prioridad en cualquier programa de seguridad, y es el punto de partida ideal para cualquier proyecto de seguridad de acceso privilegiado</p>
            </div>
          </div>

          <p style="page-break-before: always"></p>
          <p>&nbsp;</p>

          <div class="resume-item d-flex flex-column flex-md-row mb-5">
            <div class="resume-content">
              <h3 class="mb-0">Administradores de Dominio - Riesgos</h3>
              <p>Los administradores de dominio son cuentas criticas porque los atacantes pueden aprovecharlas para acceder a los controladores de dominio que gestionan la autenticación y los privilegios de los usuarios en toda la red corporativa. Si un atacante tiene acceso a un controlador de dominio, puede causar un daño irreparable, incluida la toma de control total del dominio, lo que se conoce como un ataque "Golden Ticket"</p>

              <h4 class="subheading text-primary mb-3">Exposicion de Hashes</h4>

              <div class="row mb-3">
                  <div class="col-md-8">
					<p>La forma más sencilla de obtener credenciales de administrador de dominio es robar los hashes de las credenciales almacenadas en la caché de estos usuarios, en las máquinas en las que dicho usuario se ha autenticado previamente. Para ello, se requieren al menos privilegios de administrador local en la máquina, por lo que es tan importante aplicar una politica de privilegios mínimos y evitar el uso de las cuentas de administrador de dominio fuera de los Controladores. Después de haber robado estas credenciales, un atacante puede autenticarse en cualquier máquina miembro del dominio, incluidos los Controladores de Dominio, utilizando la técnica Pass-the-Hash y iniciar un ataque para la toma de control total del dominio.</p></div>
                  <div class="col-md-4">
                      <div class="card bg-primary ml-3" style="width: 18rem;">
						  <div class="card-header text-white card-title">
							<b><insert>DomainAdminsCount</insert> Hashes Encontrados</b>
						  </div>
                          <div class="card-body">
                              <p class="card-text text-white">Cualquiera de estos hashes puede ser robado y utilizado para autenticar en un Controlador de Dominio</p>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="row mr-5 ml-5 mt-3">
                <h4 class="mb-0"> Hashes encontrados (Top 10 por Antigudad de Contraseña)</h4>
                <insert>DomainAdminsTable1</insert>
              </div>

              <p>La mejor defensa contra el robo de hashes de contraseñas es rotar las credenciales regularmente. Cuando se cambia una contraseña de usuario de Active Directory, cualquier hash de contraseña existente se invalida inmediatamente y, por lo tanto, no se puede utilizar para ejecutar una autenticación Pass-the-Hash en un dispositivo de destino. Rotar las contraseñas con regularidad o, mejor aún, implementar contraseñas de un solo uso que solo son válidas durante la sesión de un usuario, reduce considerablemente la ventana de oportunidad para que un atacante encuentre, robe y use dichas credenciales.</p>

        <p style="page-break-before: always"></p>
        <p>&nbsp;</p>

              <h4 class="subheading text-primary mb-3">Exposicion de maquinas</h4>
              <div class="row mb-3">
                  <div class="col-md-8">
                      <p>También debe prestarse la debida atención a la cantidad de máquinas a las que están expuestos los hash de administrador de dominio. En cuantos más escritorios, estaciones de trabajo y servidores estén ubicados estos hashes, mayor será la posibilidad de que un atacante pueda encontrarlos y explotarlos. Las ubicaciones comunes para encontrar hashes de administrador se encuentran en los servidores de salto y en las máquinas administrativas de escritorio, que son objetivos comunes para los atacantes que buscan acceso a entornos. Se debe tener especial cuidado para evitar que aparezcan hashes de administrador de dominio en los escritorios, ya que estas son las primeras máquinas a las que un atacante tendra acceso durante una intrusión.</p>
                    </div>

                 <div class="col-md-4">
                    <div class="card bg-primary ml-3" style="width: 18rem;">
						<div class="card-header text-white card-title">
							<b><insert>DomainAdminsMachineCount</insert> Machines with Domain Admin Hashes</b>
						</div>
                        <div class="card-body">
                            <p class="card-text text-white">Compromise of any of these machines could lead to the theft of Domain Administrator password hashes</p>
                        </div>
                    </div>

                </div>
              </div>

              <div class="row mr-5 ml-5 mt-3">
                  <h4 class="mb-0">Domain Administrator Machine Exposure</h4>
                  <insert>DomainAdminsTable2</insert>
                </div>

              <p>Another technique to reduce the potential of hashes being obtained is to reduce the number of machines where these hashes are created.
			  It is highly recommended within Windows environments to implement a 'jump server' or 'bastion host' architecture which prevents direct access
			  from a desktop environment into the server layer. When all administrative users authenticate on such a jump server, that single point of entry becomes much easier to secure and monitor.</p>

              <h4 class="subheading text-primary mb-3">Reducing Credential Theft Risk</h4>
              <p>A technique that can be used to defend against password hash theft is to harden the operating system itself. There are two main ways to achieve this:</p>
              <ul>
                <li>Remove local administrator rights from users. Only administrators can retrieve password hashes, therefore reducing the number of users who have local administrator
				rights on desktops is a simple method for reducing the chance of password hash theft.</li>
                <li>Implement software to protect the key Windows subsystems that control user authentication: the Security Accounts Manager (SAM) database and the Local Security Authority Subsystem Service (LSASS)</li>
                <li>Implement software whitelisting to prevent the execution of malware which could be used to steal credentials</li>
              </ul>
              <p>A way to achieve these goals is to use an endpoint least-privilege tool such as CyberArk Endpoint Privileges Manager.</p>

            </div>
          </div>

          <p style="page-break-before: always"></p>
          <p>&nbsp;</p>

          <div class="resume-item d-flex flex-column flex-md-row mb-5">
            <div class="resume-content mr-auto">
              <h3 class="mb-0">Domain Administrator Exposure</h3>
              <div class="row mb-3">
                  <div class="col-md-8">
                      <p>A simple metric to gauge the potential risk that an organization faces is the number of the most highly-privileged accounts that exist in the environment – Domain Administrators.
					  Ideally, the only members of Domain Admins should be accounts that are required to manage the domain itself – any other role, such as server administration, should be conducted using a lesser-privileged account.</p>
                  </div>
                  <div class="col-md-4">
                      <div class="card bg-primary ml-3" style="width: 18rem;">
						  <div class="card-header text-white card-title">
							<b><insert>DomainAdminsTotalCount</insert> unique Domain Admin accounts found</b>
						  </div>
                          <div class="card-body">
                              <p class="card-text text-white">Compromise of any of these accounts could lead to irreversible takeover of the domain by an attacker</p>
                          </div>
                      </div>
                  </div>

              <div class="row mr-5 ml-5 mt-3">
                  <h4 class="mb-0">Domain Administrator Accounts (Top 10 by Password Age)</h4>
                  <insert>DomainAdminsTable3</insert>
                </div>

              <h4 class="subheading text-primary mb-3">Personal vs. Generic Accounts</h4>
              <p>CyberArk in particular recommends moving away from the personal Domain Admin account model, where each administrator has their own “ADM” account or similar,
			  to a shared generic account model with only enough domain admin accounts available for the anticipated number of simultaneous connections to DCs. Access to these accounts
			  should be controlled by a Privileged Access Management (PAM) solution, which secures access to such credentials and fully audits who has access to them. </p>
              <p>This has several advantages:</p>
              <ul>
                <li>Identity management process become simpler. No longer do organizations have to have processes in place to disable personal Domain Admin accounts when the user leaves.</li>
                <li>The attack surface is reduced. The fewer Domain Admin accounts exist, the less chance there is that their credentials will be stolen or misused.</li>
                <li>Domain Admin passwords are more easily be hidden from administrative users and rotated automatically, reducing the potential Pass-the-Hash risk across the organization.</li>
              </ul>
              <p>Audit trails can be maintained by the PAM solution so that activities can always be traced back to the actual user conducting them.</p>
            </div>
          </div>

      </section>
